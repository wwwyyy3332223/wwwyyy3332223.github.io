{"version":3,"sources":["webpack:///./src/views/Login.vue?f028","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","active","expression","on","$event","$toast","login","$set","gotoLogin","_v","register","gotoRegister","staticRenderFns","name","data","methods","usertel","username","userpwd","$axios","post","then","res","type","localStorage","getItem","window","setItem","component"],"mappings":"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","file":"js/chunk-2d2086b7.312f356c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"login\"}},[_c('Head',{attrs:{\"title\":\"登录/注册\"}}),_c('van-tabs',{model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tab',{attrs:{\"title\":\"登录\"}},[_c('van-cell-group',[_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"label\":\"用户名/手机号\",\"right-icon\":\"question-o\",\"placeholder\":\"请输入用户名或者手机号\"},on:{\"click-right-icon\":function($event){return _vm.$toast('question')}},model:{value:(_vm.login.keys),callback:function ($$v) {_vm.$set(_vm.login, \"keys\", $$v)},expression:\"login.keys\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"密码\",\"placeholder\":\"请输入密码\",\"required\":\"\"},model:{value:(_vm.login.userpwd),callback:function ($$v) {_vm.$set(_vm.login, \"userpwd\", $$v)},expression:\"login.userpwd\"}})],1),_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.gotoLogin}},[_vm._v(\"登录\")])],1),_c('van-tab',{attrs:{\"title\":\"注册\"}},[_c('van-cell-group',[_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"label\":\"用户名\",\"right-icon\":\"question-o\",\"placeholder\":\"请输入用户名\"},on:{\"click-right-icon\":function($event){return _vm.$toast('长度6-12位的字母、数字或下划线，首位不为数字')}},model:{value:(_vm.register.username),callback:function ($$v) {_vm.$set(_vm.register, \"username\", $$v)},expression:\"register.username\"}}),_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"label\":\"手机号\",\"placeholder\":\"请输入手机号\"},model:{value:(_vm.register.usertel),callback:function ($$v) {_vm.$set(_vm.register, \"usertel\", $$v)},expression:\"register.usertel\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"密码\",\"placeholder\":\"请输入密码\",\"required\":\"\",\"right-icon\":\"question-o\"},on:{\"click-right-icon\":function($event){return _vm.$toast('密码至少包含数字和英文，长度6-15')}},model:{value:(_vm.register.userpwd),callback:function ($$v) {_vm.$set(_vm.register, \"userpwd\", $$v)},expression:\"register.userpwd\"}})],1),_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.gotoRegister}},[_vm._v(\"注册\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"login\">\r\n    <Head title=\"登录/注册\"></Head>\r\n\r\n    <van-tabs v-model=\"active\">\r\n      <!--登录-->\r\n      <van-tab title=\"登录\">\r\n        <van-cell-group>\r\n          <van-field\r\n            v-model=\"login.keys\"\r\n            required\r\n            clearable\r\n            label=\"用户名/手机号\"\r\n            right-icon=\"question-o\"\r\n            placeholder=\"请输入用户名或者手机号\"\r\n            @click-right-icon=\"$toast('question')\"\r\n          />\r\n          <van-field\r\n            v-model=\"login.userpwd\"\r\n            type=\"password\"\r\n            label=\"密码\"\r\n            placeholder=\"请输入密码\"\r\n            required\r\n          />\r\n        </van-cell-group>\r\n        <van-button type=\"primary\" size=\"large\" @click=\"gotoLogin\">登录</van-button>\r\n      </van-tab>\r\n\r\n      <!-- 注册 -->\r\n      <van-tab title=\"注册\">\r\n        <van-cell-group>\r\n          <van-field\r\n            v-model=\"register.username\"\r\n            required\r\n            clearable\r\n            label=\"用户名\"\r\n            right-icon=\"question-o\"\r\n            placeholder=\"请输入用户名\"\r\n            @click-right-icon=\"$toast('长度6-12位的字母、数字或下划线，首位不为数字')\"\r\n          />\r\n          <van-field\r\n            v-model=\"register.usertel\"\r\n            required\r\n            clearable\r\n            label=\"手机号\"\r\n           \r\n            placeholder=\"请输入手机号\"\r\n           \r\n          />\r\n\r\n          <van-field\r\n            v-model=\"register.userpwd\"\r\n            type=\"password\"\r\n            label=\"密码\"\r\n            placeholder=\"请输入密码\"\r\n            required\r\n             right-icon=\"question-o\"\r\n             @click-right-icon=\"$toast('密码至少包含数字和英文，长度6-15')\"\r\n          />\r\n        </van-cell-group>\r\n        <van-button type=\"primary\" size=\"large\" @click=\"gotoRegister\">注册</van-button>\r\n      </van-tab>\r\n    </van-tabs>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { Toast } from 'vant';\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      register: {},\r\n      login: {},\r\n      active: 0\r\n    };\r\n  },\r\n  methods: {\r\n    gotoRegister() {\r\n      var usertel=this.register.usertel;\r\n      var username=this.register.username;\r\n      var userpwd=this.register.userpwd;\r\n\r\n      if(usertel&&username&&userpwd){\r\n      var newtel=/^1[3456789]\\d{9}$/.test(this.register.usertel);\r\n      var newname=/^[a-zA_Z][a-zA-Z0-9_]{5,11}$/.test(this.register.username);\r\n      var newpwd=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,15}$/.test(this.register.userpwd);\r\n      if(newtel&&newname&&newpwd){\r\n     // window.console.log(newname,newtel,newpwd)\r\n         this.$axios.post(\"/vue/register\", this.register).then(res => {\r\n        if (res.data.type == 1) {\r\n          this.active = 0;\r\n          Toast(\"注册成功\");\r\n        } else {\r\n          Toast(res.data[\"msg\"]);\r\n        }\r\n      });\r\n\r\n      }else{\r\n         Toast(\"请查看提示，正确填写\") \r\n      }\r\n      }else{\r\n        Toast(\"请填写完整的信息\")\r\n\r\n      }\r\n    \r\n    \r\n    },\r\n    gotoLogin() {\r\n      this.$axios.post(\"/vue/login\", this.login).then(res => {\r\n       // window.console.log(res.config.data);\r\n        if (res.data.type == 1) {\r\n          this.active = 0;\r\n          Toast(\"登录成功\");\r\n         \r\n          var username = res.data.username;\r\n          if (localStorage.getItem(username)) {\r\n            Toast(\"您已有账号登录\");\r\n          } else {\r\n            window.localStorage.setItem(\"users\",JSON.stringify(username));\r\n          }\r\n          this.$router.push({ name: \"mine\" });\r\n        } else {\r\n          Toast(res.data[\"msg\"]);\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=df07b232&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}