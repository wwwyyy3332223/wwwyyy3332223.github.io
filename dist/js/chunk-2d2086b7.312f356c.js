(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2086b7"],{a55b:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"login"}},[r("Head",{attrs:{title:"登录/注册"}}),r("van-tabs",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[r("van-tab",{attrs:{title:"登录"}},[r("van-cell-group",[r("van-field",{attrs:{required:"",clearable:"",label:"用户名/手机号","right-icon":"question-o",placeholder:"请输入用户名或者手机号"},on:{"click-right-icon":function(t){return e.$toast("question")}},model:{value:e.login.keys,callback:function(t){e.$set(e.login,"keys",t)},expression:"login.keys"}}),r("van-field",{attrs:{type:"password",label:"密码",placeholder:"请输入密码",required:""},model:{value:e.login.userpwd,callback:function(t){e.$set(e.login,"userpwd",t)},expression:"login.userpwd"}})],1),r("van-button",{attrs:{type:"primary",size:"large"},on:{click:e.gotoLogin}},[e._v("登录")])],1),r("van-tab",{attrs:{title:"注册"}},[r("van-cell-group",[r("van-field",{attrs:{required:"",clearable:"",label:"用户名","right-icon":"question-o",placeholder:"请输入用户名"},on:{"click-right-icon":function(t){return e.$toast("长度6-12位的字母、数字或下划线，首位不为数字")}},model:{value:e.register.username,callback:function(t){e.$set(e.register,"username",t)},expression:"register.username"}}),r("van-field",{attrs:{required:"",clearable:"",label:"手机号",placeholder:"请输入手机号"},model:{value:e.register.usertel,callback:function(t){e.$set(e.register,"usertel",t)},expression:"register.usertel"}}),r("van-field",{attrs:{type:"password",label:"密码",placeholder:"请输入密码",required:"","right-icon":"question-o"},on:{"click-right-icon":function(t){return e.$toast("密码至少包含数字和英文，长度6-15")}},model:{value:e.register.userpwd,callback:function(t){e.$set(e.register,"userpwd",t)},expression:"register.userpwd"}})],1),r("van-button",{attrs:{type:"primary",size:"large"},on:{click:e.gotoRegister}},[e._v("注册")])],1)],1)],1)},i=[],s=r("d399"),n={name:"Login",data:function(){return{register:{},login:{},active:0}},methods:{gotoRegister:function(){var e=this,t=this.register.usertel,r=this.register.username,a=this.register.userpwd;if(t&&r&&a){var i=/^1[3456789]\d{9}$/.test(this.register.usertel),n=/^[a-zA_Z][a-zA-Z0-9_]{5,11}$/.test(this.register.username),l=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,15}$/.test(this.register.userpwd);i&&n&&l?this.$axios.post("/vue/register",this.register).then((function(t){1==t.data.type?(e.active=0,Object(s["a"])("注册成功")):Object(s["a"])(t.data["msg"])})):Object(s["a"])("请查看提示，正确填写")}else Object(s["a"])("请填写完整的信息")},gotoLogin:function(){var e=this;this.$axios.post("/vue/login",this.login).then((function(t){if(1==t.data.type){e.active=0,Object(s["a"])("登录成功");var r=t.data.username;localStorage.getItem(r)?Object(s["a"])("您已有账号登录"):window.localStorage.setItem("users",JSON.stringify(r)),e.$router.push({name:"mine"})}else Object(s["a"])(t.data["msg"])}))}}},l=n,o=r("2877"),c=Object(o["a"])(l,a,i,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d2086b7.312f356c.js.map